================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
Intel(R) Xeon(R) Platinum 8370C CPU @ 2.80GHz
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2403           2414          10          2.1         480.6       1.0X
UTF-8 is set                                       5538           5585          46          0.9        1107.7       0.4X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
Intel(R) Xeon(R) Platinum 8370C CPU @ 2.80GHz
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2016           2022           6          2.5         403.2       1.0X
UTF-8 is set                                       5235           5256          19          1.0        1047.1       0.4X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
Intel(R) Xeon(R) Platinum 8370C CPU @ 2.80GHz
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        4761           4770          16          0.2        4760.6       1.0X
UTF-8 is set                                       4745           4762          15          0.2        4744.8       1.0X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
Intel(R) Xeon(R) Platinum 8370C CPU @ 2.80GHz
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        9608           9735         141          0.0      192163.4       1.0X
UTF-8 is set                                      10792          10823          32          0.0      215832.2       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
Intel(R) Xeon(R) Platinum 8370C CPU @ 2.80GHz
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                  1901           1906           7          0.5        1901.5       1.0X
Select 1 column                                    1257           1265           7          0.8        1257.3       1.5X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
Intel(R) Xeon(R) Platinum 8370C CPU @ 2.80GHz
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                       699            704           5          1.4         698.9       1.0X
Short column with UTF-8                            1309           1312           3          0.8        1309.3       0.5X
Wide column without encoding                       5472           5493          24          0.2        5471.5       0.1X
Wide column with UTF-8                             6678           6702          32          0.1        6678.2       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
Intel(R) Xeon(R) Platinum 8370C CPU @ 2.80GHz
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                            61             63           2         16.5          60.5       1.0X
from_json                                          1596           1607          11          0.6        1595.6       0.0X
json_tuple                                         1469           1476           6          0.7        1468.8       0.0X
get_json_object wholestage off                     1495           1503           8          0.7        1494.5       0.0X
get_json_object wholestage on                      1452           1453           1          0.7        1452.1       0.0X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
Intel(R) Xeon(R) Platinum 8370C CPU @ 2.80GHz
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           234            236           2         21.4          46.8       1.0X
schema inferring                                   1782           1788           5          2.8         356.4       0.1X
parsing                                            2983           2989           6          1.7         596.6       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
Intel(R) Xeon(R) Platinum 8370C CPU @ 2.80GHz
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           584            593          10          8.6         116.9       1.0X
Schema inferring                                   2370           2374           4          2.1         474.1       0.2X
Parsing without charset                            2748           2755           8          1.8         549.6       0.2X
Parsing with UTF-8                                 6221           6235          13          0.8        1244.2       0.1X

OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
Intel(R) Xeon(R) Platinum 8370C CPU @ 2.80GHz
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                      112            113           1          8.9         111.8       1.0X
to_json(timestamp)                                  543            544           0          1.8         543.4       0.2X
write timestamps to files                           575            582           7          1.7         575.2       0.2X
Create a dataset of dates                           116            117           1          8.6         116.0       1.0X
to_json(date)                                       427            433          10          2.3         427.0       0.3X
write dates to files                                404            411          11          2.5         403.8       0.3X

OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
Intel(R) Xeon(R) Platinum 8370C CPU @ 2.80GHz
Read dates and timestamps:                                             Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
-----------------------------------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                                                   152            157           4          6.6         152.1       1.0X
read timestamps from files                                                      1150           1151           2          0.9        1149.7       0.1X
infer timestamps from files                                                     2138           2146          10          0.5        2138.4       0.1X
read date text from files                                                        145            149           3          6.9         144.8       1.1X
read date from files                                                             706            710           4          1.4         705.6       0.2X
timestamp strings                                                                134            137           2          7.4         134.4       1.1X
parse timestamps from Dataset[String]                                           1234           1237           4          0.8        1234.3       0.1X
infer timestamps from Dataset[String]                                           2104           2110           7          0.5        2103.8       0.1X
date strings                                                                     181            182           1          5.5         181.2       0.8X
parse dates from Dataset[String]                                                 977            978           2          1.0         976.7       0.2X
from_json(timestamp)                                                            2185           2188           5          0.5        2184.5       0.1X
from_json(date)                                                                 1884           1904          23          0.5        1883.8       0.1X
infer error timestamps from Dataset[String] with default format                 1356           1360           4          0.7        1356.3       0.1X
infer error timestamps from Dataset[String] with user-provided format           1335           1360          30          0.7        1334.8       0.1X
infer error timestamps from Dataset[String] with legacy format                  1372           1379           6          0.7        1372.3       0.1X

OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
Intel(R) Xeon(R) Platinum 8370C CPU @ 2.80GHz
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                        5798           5823          23          0.0       57979.8       1.0X
pushdown disabled                                  5673           5684          14          0.0       56733.6       1.0X
w/ filters                                          619            624           7          0.2        6188.4       9.4X

OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
Intel(R) Xeon(R) Platinum 8370C CPU @ 2.80GHz
Partial JSON results:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
parse invalid JSON                                 2401           2415          13          0.0      240100.1       1.0X


