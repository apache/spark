================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.10+7-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2414           2427          11          2.1         482.8       1.0X
UTF-8 is set                                       4866           4910          39          1.0         973.2       0.5X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.10+7-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2224           2247          31          2.2         444.8       1.0X
UTF-8 is set                                       4653           4660           8          1.1         930.5       0.5X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.10+7-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        4649           4735          95          0.2        4648.6       1.0X
UTF-8 is set                                       4502           4511          14          0.2        4501.5       1.0X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.10+7-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                       10646          10693          56          0.0      212923.7       1.0X
UTF-8 is set                                      11982          12025          38          0.0      239644.0       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.10+7-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                  1900           1907           7          0.5        1899.8       1.0X
Select 1 column                                    1224           1233           8          0.8        1224.0       1.6X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.10+7-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                       667            670           3          1.5         666.8       1.0X
Short column with UTF-8                            1180           1184           6          0.8        1180.1       0.6X
Wide column without encoding                       5505           5523          20          0.2        5504.9       0.1X
Wide column with UTF-8                             9119           9135          19          0.1        9118.6       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.10+7-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                            60             65           4         16.6          60.4       1.0X
from_json                                          1186           1192           5          0.8        1186.4       0.1X
json_tuple                                         1048           1050           2          1.0        1048.5       0.1X
get_json_object wholestage off                     1057           1065           7          0.9        1057.3       0.1X
get_json_object wholestage on                      1013           1015           3          1.0        1013.1       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.10+7-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           234            239           8         21.4          46.8       1.0X
schema inferring                                   1981           1986           5          2.5         396.1       0.1X
parsing                                            2912           2920           7          1.7         582.4       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.10+7-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           575            585          17          8.7         115.0       1.0X
Schema inferring                                   2448           2450           3          2.0         489.5       0.2X
Parsing without charset                            3051           3055           7          1.6         610.1       0.2X
Parsing with UTF-8                                 5749           5755           8          0.9        1149.7       0.1X

OpenJDK 64-Bit Server VM 21.0.10+7-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                      102            108           4          9.8         102.4       1.0X
to_json(timestamp)                                  543            545           2          1.8         543.3       0.2X
write timestamps to files                           579            584           5          1.7         579.2       0.2X
Create a dataset of dates                           114            124          10          8.7         114.5       0.9X
to_json(date)                                       419            420           1          2.4         418.7       0.2X
write dates to files                                413            415           1          2.4         413.2       0.2X

OpenJDK 64-Bit Server VM 21.0.10+7-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
Read dates and timestamps:                                             Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
-----------------------------------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                                                   149            154           8          6.7         149.1       1.0X
read timestamps from files                                                      1100           1110          11          0.9        1099.5       0.1X
infer timestamps from files                                                     2051           2059          12          0.5        2051.0       0.1X
read date text from files                                                        139            141           2          7.2         139.3       1.1X
read date from files                                                             743            747           6          1.3         743.1       0.2X
timestamp strings                                                                142            145           3          7.1         141.7       1.1X
parse timestamps from Dataset[String]                                           1346           1349           4          0.7        1345.9       0.1X
infer timestamps from Dataset[String]                                           2268           2269           3          0.4        2267.5       0.1X
date strings                                                                     191            192           1          5.2         191.1       0.8X
parse dates from Dataset[String]                                                 995            997           2          1.0         995.5       0.1X
from_json(timestamp)                                                            1807           1809           2          0.6        1807.4       0.1X
from_json(date)                                                                 1469           1483          15          0.7        1469.2       0.1X
infer error timestamps from Dataset[String] with default format                 1426           1429           3          0.7        1425.8       0.1X
infer error timestamps from Dataset[String] with user-provided format           1411           1417           7          0.7        1411.4       0.1X
infer error timestamps from Dataset[String] with legacy format                  1431           1433           2          0.7        1430.7       0.1X

OpenJDK 64-Bit Server VM 21.0.10+7-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                        6121           6125           4          0.0       61205.5       1.0X
pushdown disabled                                  5970           5973           5          0.0       59698.6       1.0X
w/ filters                                          689            701          10          0.1        6894.7       8.9X

OpenJDK 64-Bit Server VM 21.0.10+7-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
Partial JSON results:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
parse invalid JSON                                 2494           2510          14          0.0      249367.6       1.0X


