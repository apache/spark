================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2449           2522         100          2.0         489.8       1.0X
UTF-8 is set                                       4926           4949          35          1.0         985.2       0.5X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        1976           2030          55          2.5         395.3       1.0X
UTF-8 is set                                       4585           4593          10          1.1         917.0       0.4X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        4544           4562          18          0.2        4543.6       1.0X
UTF-8 is set                                       4417           4433          14          0.2        4417.2       1.0X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                       10431          10576         227          0.0      208628.1       1.0X
UTF-8 is set                                      11244          11277          30          0.0      224872.2       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                  1735           1736           2          0.6        1734.5       1.0X
Select 1 column                                    1146           1148           2          0.9        1146.2       1.5X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                       601            603           3          1.7         600.7       1.0X
Short column with UTF-8                            1130           1132           2          0.9        1129.9       0.5X
Wide column without encoding                       5232           5270          41          0.2        5231.8       0.1X
Wide column with UTF-8                             8895           8907          10          0.1        8895.4       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                            59             65           5         16.9          59.1       1.0X
from_json                                          1090           1103          14          0.9        1090.2       0.1X
json_tuple                                         1044           1053           8          1.0        1043.6       0.1X
get_json_object wholestage off                     1052           1059           6          1.0        1052.4       0.1X
get_json_object wholestage on                       983            998          13          1.0         983.1       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           234            236           2         21.3          46.8       1.0X
schema inferring                                   1793           1797           5          2.8         358.6       0.1X
parsing                                            2582           2583           1          1.9         516.4       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           593            596           3          8.4         118.5       1.0X
Schema inferring                                   2369           2370           1          2.1         473.7       0.3X
Parsing without charset                            2771           2776           6          1.8         554.3       0.2X
Parsing with UTF-8                                 5392           5400           9          0.9        1078.4       0.1X

OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                      105            107           2          9.5         105.2       1.0X
to_json(timestamp)                                  541            546           8          1.8         540.6       0.2X
write timestamps to files                           572            574           3          1.7         571.9       0.2X
Create a dataset of dates                           110            113           3          9.1         110.2       1.0X
to_json(date)                                       385            386           1          2.6         384.8       0.3X
write dates to files                                414            417           3          2.4         413.6       0.3X

OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
Read dates and timestamps:                                             Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
-----------------------------------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                                                   158            160           3          6.3         157.5       1.0X
read timestamps from files                                                      1078           1084           5          0.9        1078.0       0.1X
infer timestamps from files                                                     2034           2041          11          0.5        2034.1       0.1X
read date text from files                                                        146            153           6          6.8         146.3       1.1X
read date from files                                                             674            675           2          1.5         673.7       0.2X
timestamp strings                                                                136            138           2          7.4         135.6       1.2X
parse timestamps from Dataset[String]                                           1255           1260           6          0.8        1254.7       0.1X
infer timestamps from Dataset[String]                                           2203           2210           6          0.5        2203.3       0.1X
date strings                                                                     202            202           0          5.0         201.8       0.8X
parse dates from Dataset[String]                                                 955            959           5          1.0         954.8       0.2X
from_json(timestamp)                                                            1731           1736           6          0.6        1731.2       0.1X
from_json(date)                                                                 1438           1440           3          0.7        1437.9       0.1X
infer error timestamps from Dataset[String] with default format                 1352           1358           4          0.7        1352.5       0.1X
infer error timestamps from Dataset[String] with user-provided format           1352           1352           0          0.7        1351.6       0.1X
infer error timestamps from Dataset[String] with legacy format                  1378           1381           4          0.7        1377.7       0.1X

OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                        6114           6115           1          0.0       61142.8       1.0X
pushdown disabled                                  6017           6030          12          0.0       60165.6       1.0X
w/ filters                                          712            721           7          0.1        7124.1       8.6X

OpenJDK 64-Bit Server VM 21.0.8+9-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
Partial JSON results:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
parse invalid JSON                                 2534           2540           7          0.0      253448.0       1.0X


