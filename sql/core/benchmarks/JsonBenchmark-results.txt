================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.16+8-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2179           2239          75          2.3         435.9       1.0X
UTF-8 is set                                       5291           5328          33          0.9        1058.2       0.4X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.16+8-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2029           2079          72          2.5         405.8       1.0X
UTF-8 is set                                       4499           4501           2          1.1         899.8       0.5X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.16+8-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        4605           4651          40          0.2        4604.9       1.0X
UTF-8 is set                                       4661           4685          24          0.2        4660.5       1.0X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.16+8-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        8833           8999         215          0.0      176664.5       1.0X
UTF-8 is set                                       9740           9745           5          0.0      194807.7       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.16+8-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                  1487           1497          12          0.7        1487.0       1.0X
Select 1 column                                    1083           1088           4          0.9        1083.4       1.4X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.16+8-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                       600            607           7          1.7         600.1       1.0X
Short column with UTF-8                            1073           1081           9          0.9        1072.8       0.6X
Wide column without encoding                       5205           5216          15          0.2        5205.5       0.1X
Wide column with UTF-8                             6720           6730          10          0.1        6719.9       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.16+8-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                            64             71           6         15.6          64.1       1.0X
from_json                                          1058           1061           2          0.9        1058.5       0.1X
json_tuple                                         1004           1006           3          1.0        1003.6       0.1X
get_json_object wholestage off                     1036           1044           7          1.0        1036.3       0.1X
get_json_object wholestage on                       953            956           3          1.0         953.0       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.16+8-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           249            253           6         20.0          49.9       1.0X
schema inferring                                   1822           1831          15          2.7         364.4       0.1X
parsing                                            2444           2456          10          2.0         488.8       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.16+8-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           602            603           1          8.3         120.4       1.0X
Schema inferring                                   2349           2352           3          2.1         469.7       0.3X
Parsing without charset                            2701           2709           6          1.9         540.2       0.2X
Parsing with UTF-8                                 5177           5184           7          1.0        1035.3       0.1X

OpenJDK 64-Bit Server VM 17.0.16+8-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                      110            113           3          9.1         110.3       1.0X
to_json(timestamp)                                  633            637           6          1.6         632.6       0.2X
write timestamps to files                           668            672           4          1.5         667.9       0.2X
Create a dataset of dates                           115            117           3          8.7         115.4       1.0X
to_json(date)                                       437            438           0          2.3         437.2       0.3X
write dates to files                                424            428           3          2.4         424.4       0.3X

OpenJDK 64-Bit Server VM 17.0.16+8-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
Read dates and timestamps:                                             Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
-----------------------------------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                                                   152            158           6          6.6         152.2       1.0X
read timestamps from files                                                       983            984           1          1.0         982.9       0.2X
infer timestamps from files                                                     1857           1866           8          0.5        1857.2       0.1X
read date text from files                                                        147            153           9          6.8         146.5       1.0X
read date from files                                                             671            674           4          1.5         671.0       0.2X
timestamp strings                                                                135            138           2          7.4         135.0       1.1X
parse timestamps from Dataset[String]                                           1138           1140           3          0.9        1137.8       0.1X
infer timestamps from Dataset[String]                                           1985           1992           6          0.5        1985.4       0.1X
date strings                                                                     229            230           1          4.4         228.8       0.7X
parse dates from Dataset[String]                                                 916            917           1          1.1         915.7       0.2X
from_json(timestamp)                                                            1644           1648           7          0.6        1643.7       0.1X
from_json(date)                                                                 1390           1400           9          0.7        1390.4       0.1X
infer error timestamps from Dataset[String] with default format                 1317           1322           9          0.8        1317.1       0.1X
infer error timestamps from Dataset[String] with user-provided format           1316           1330          12          0.8        1316.4       0.1X
infer error timestamps from Dataset[String] with legacy format                  1341           1344           3          0.7        1341.2       0.1X

OpenJDK 64-Bit Server VM 17.0.16+8-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                        5704           5706           2          0.0       57043.0       1.0X
pushdown disabled                                  5604           5622          24          0.0       56042.1       1.0X
w/ filters                                          643            654          11          0.2        6430.2       8.9X

OpenJDK 64-Bit Server VM 17.0.16+8-LTS on Linux 6.11.0-1018-azure
AMD EPYC 7763 64-Core Processor
Partial JSON results:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
parse invalid JSON                                 2332           2422         150          0.0      233209.5       1.0X


