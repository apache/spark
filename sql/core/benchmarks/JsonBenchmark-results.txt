================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.18+8-LTS on Linux 6.14.0-1017-azure
AMD EPYC 9V74 80-Core Processor
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        1899           1983          91          2.6         379.7       1.0X
UTF-8 is set                                       5121           5134          13          1.0        1024.2       0.4X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.18+8-LTS on Linux 6.14.0-1017-azure
AMD EPYC 9V74 80-Core Processor
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        1927           1963          55          2.6         385.5       1.0X
UTF-8 is set                                       4451           4462          10          1.1         890.2       0.4X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.18+8-LTS on Linux 6.14.0-1017-azure
AMD EPYC 9V74 80-Core Processor
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        5230           5246          16          0.2        5230.0       1.0X
UTF-8 is set                                       4768           4856          88          0.2        4767.9       1.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.18+8-LTS on Linux 6.14.0-1017-azure
AMD EPYC 9V74 80-Core Processor
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        8996           9163         215          0.0      179920.8       1.0X
UTF-8 is set                                       9757           9790          31          0.0      195143.4       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.18+8-LTS on Linux 6.14.0-1017-azure
AMD EPYC 9V74 80-Core Processor
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                  1557           1560           3          0.6        1557.2       1.0X
Select 1 column                                    1184           1196          20          0.8        1183.7       1.3X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.18+8-LTS on Linux 6.14.0-1017-azure
AMD EPYC 9V74 80-Core Processor
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                       561            563           3          1.8         561.5       1.0X
Short column with UTF-8                            1140           1146           8          0.9        1139.9       0.5X
Wide column without encoding                       5163           5179          23          0.2        5163.2       0.1X
Wide column with UTF-8                             9810           9833          22          0.1        9810.2       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.18+8-LTS on Linux 6.14.0-1017-azure
AMD EPYC 9V74 80-Core Processor
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                            62             66           4         16.2          61.7       1.0X
from_json                                           969            979           9          1.0         968.7       0.1X
json_tuple                                          905            908           4          1.1         905.1       0.1X
get_json_object wholestage off                      938            942           4          1.1         938.3       0.1X
get_json_object wholestage on                       835            847          18          1.2         835.0       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.18+8-LTS on Linux 6.14.0-1017-azure
AMD EPYC 9V74 80-Core Processor
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           254            256           3         19.7          50.7       1.0X
schema inferring                                   1504           1524          26          3.3         300.8       0.2X
parsing                                            2391           2421          27          2.1         478.2       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 17.0.18+8-LTS on Linux 6.14.0-1017-azure
AMD EPYC 9V74 80-Core Processor
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           624            652          30          8.0         124.8       1.0X
Schema inferring                                   2032           2036           5          2.5         406.5       0.3X
Parsing without charset                            2527           2529           3          2.0         505.4       0.2X
Parsing with UTF-8                                 5453           5470          27          0.9        1090.6       0.1X

OpenJDK 64-Bit Server VM 17.0.18+8-LTS on Linux 6.14.0-1017-azure
AMD EPYC 9V74 80-Core Processor
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                      107            110           4          9.4         106.5       1.0X
to_json(timestamp)                                  576            582           9          1.7         576.3       0.2X
write timestamps to files                           623            626           4          1.6         623.2       0.2X
Create a dataset of dates                           120            123           3          8.3         120.1       0.9X
to_json(date)                                       391            398           7          2.6         391.0       0.3X
write dates to files                                415            418           5          2.4         415.3       0.3X

OpenJDK 64-Bit Server VM 17.0.18+8-LTS on Linux 6.14.0-1017-azure
AMD EPYC 9V74 80-Core Processor
Read dates and timestamps:                                             Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
-----------------------------------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                                                   163            165           4          6.1         162.8       1.0X
read timestamps from files                                                       987            997          12          1.0         987.2       0.2X
infer timestamps from files                                                     1835           1847          20          0.5        1835.4       0.1X
read date text from files                                                        150            153           3          6.7         149.8       1.1X
read date from files                                                             621            623           2          1.6         621.4       0.3X
timestamp strings                                                                145            146           1          6.9         145.2       1.1X
parse timestamps from Dataset[String]                                           1171           1185          21          0.9        1170.6       0.1X
infer timestamps from Dataset[String]                                           2012           2015           5          0.5        2011.7       0.1X
date strings                                                                     215            217           2          4.6         215.2       0.8X
parse dates from Dataset[String]                                                 927            931           5          1.1         927.4       0.2X
from_json(timestamp)                                                            1635           1639           6          0.6        1635.3       0.1X
from_json(date)                                                                 1405           1412           6          0.7        1405.0       0.1X
infer error timestamps from Dataset[String] with default format                 1273           1276           5          0.8        1273.4       0.1X
infer error timestamps from Dataset[String] with user-provided format           1257           1260           3          0.8        1256.7       0.1X
infer error timestamps from Dataset[String] with legacy format                  1258           1260           3          0.8        1258.0       0.1X

OpenJDK 64-Bit Server VM 17.0.18+8-LTS on Linux 6.14.0-1017-azure
AMD EPYC 9V74 80-Core Processor
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                        4817           4833          15          0.0       48167.4       1.0X
pushdown disabled                                  4772           4776           5          0.0       47721.9       1.0X
w/ filters                                          695            710          16          0.1        6949.2       6.9X

OpenJDK 64-Bit Server VM 17.0.18+8-LTS on Linux 6.14.0-1017-azure
AMD EPYC 9V74 80-Core Processor
Partial JSON results:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
parse invalid JSON                                 2386           2451         111          0.0      238564.1       1.0X


