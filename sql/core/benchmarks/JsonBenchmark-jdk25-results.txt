================================================================================================
Benchmark for performance of JSON parsing
================================================================================================

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 25.0.2+10-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
JSON schema inferring:                    Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2323           2386          96          2.2         464.5       1.0X
UTF-8 is set                                       4970           4983          18          1.0         993.9       0.5X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 25.0.2+10-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
count a short column:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        2147           2199          67          2.3         429.4       1.0X
UTF-8 is set                                       4826           4846          23          1.0         965.1       0.4X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 25.0.2+10-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
count a wide column:                      Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        4544           4564          22          0.2        4544.2       1.0X
UTF-8 is set                                       4411           4424          17          0.2        4411.0       1.0X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 25.0.2+10-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
select wide row:                          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
No encoding                                        9487           9565          91          0.0      189740.3       1.0X
UTF-8 is set                                      10224          10258          42          0.0      204476.7       0.9X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 25.0.2+10-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
Select a subset of 10 columns:            Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Select 10 columns                                  1678           1682           6          0.6        1677.6       1.0X
Select 1 column                                    1198           1200           3          0.8        1197.5       1.4X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 25.0.2+10-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
creation of JSON parser per line:         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Short column without encoding                       621            627           5          1.6         621.4       1.0X
Short column with UTF-8                            1178           1184          11          0.8        1177.8       0.5X
Wide column without encoding                       4988           5023          31          0.2        4987.6       0.1X
Wide column with UTF-8                             6444           6510          61          0.2        6443.6       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 25.0.2+10-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
JSON functions:                           Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                            50             51           2         19.9          50.2       1.0X
from_json                                          1046           1048           2          1.0        1045.9       0.0X
json_tuple                                          931            958          23          1.1         931.4       0.1X
get_json_object wholestage off                      998           1001           3          1.0         998.2       0.1X
get_json_object wholestage on                       913            915           4          1.1         912.5       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 25.0.2+10-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
Dataset of json strings:                  Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           210            211           1         23.8          42.0       1.0X
schema inferring                                   1780           1785           7          2.8         356.0       0.1X
parsing                                            2586           2592           9          1.9         517.3       0.1X

Preparing data for benchmarking ...
OpenJDK 64-Bit Server VM 25.0.2+10-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
Json files in the per-line mode:          Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Text read                                           574            577           4          8.7         114.8       1.0X
Schema inferring                                   2344           2347           2          2.1         468.9       0.2X
Parsing without charset                            2927           2935           7          1.7         585.3       0.2X
Parsing with UTF-8                                 5678           5682           4          0.9        1135.5       0.1X

OpenJDK 64-Bit Server VM 25.0.2+10-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
Write dates and timestamps:               Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
Create a dataset of timestamps                       99            103           4         10.1          99.0       1.0X
to_json(timestamp)                                  533            535           3          1.9         532.7       0.2X
write timestamps to files                           589            594           4          1.7         589.2       0.2X
Create a dataset of dates                           105            107           2          9.5         104.8       0.9X
to_json(date)                                       398            402           3          2.5         398.3       0.2X
write dates to files                                398            407          12          2.5         397.8       0.2X

OpenJDK 64-Bit Server VM 25.0.2+10-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
Read dates and timestamps:                                             Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
-----------------------------------------------------------------------------------------------------------------------------------------------------
read timestamp text from files                                                   143            144           2          7.0         142.6       1.0X
read timestamps from files                                                      1006           1009           3          1.0        1005.7       0.1X
infer timestamps from files                                                     1849           1849           0          0.5        1849.1       0.1X
read date text from files                                                        140            140           0          7.1         140.0       1.0X
read date from files                                                             681            684           5          1.5         680.5       0.2X
timestamp strings                                                                132            134           2          7.6         131.8       1.1X
parse timestamps from Dataset[String]                                           1134           1136           2          0.9        1134.1       0.1X
infer timestamps from Dataset[String]                                           1935           1938           3          0.5        1934.7       0.1X
date strings                                                                     194            198           4          5.1         194.3       0.7X
parse dates from Dataset[String]                                                 935            936           1          1.1         935.1       0.2X
from_json(timestamp)                                                            1563           1569           6          0.6        1562.8       0.1X
from_json(date)                                                                 1372           1398          35          0.7        1371.8       0.1X
infer error timestamps from Dataset[String] with default format                 1335           1338           3          0.7        1335.2       0.1X
infer error timestamps from Dataset[String] with user-provided format           1318           1332          16          0.8        1317.6       0.1X
infer error timestamps from Dataset[String] with legacy format                  1354           1356           1          0.7        1354.1       0.1X

OpenJDK 64-Bit Server VM 25.0.2+10-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
Filters pushdown:                         Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
w/o filters                                        5454           5462          11          0.0       54538.3       1.0X
pushdown disabled                                  5418           5427          11          0.0       54175.8       1.0X
w/ filters                                          584            591           6          0.2        5838.7       9.3X

OpenJDK 64-Bit Server VM 25.0.2+10-LTS on Linux 6.14.0-1017-azure
AMD EPYC 7763 64-Core Processor
Partial JSON results:                     Best Time(ms)   Avg Time(ms)   Stdev(ms)    Rate(M/s)   Per Row(ns)   Relative
------------------------------------------------------------------------------------------------------------------------
parse invalid JSON                                 2244           2247           4          0.0      224391.1       1.0X


