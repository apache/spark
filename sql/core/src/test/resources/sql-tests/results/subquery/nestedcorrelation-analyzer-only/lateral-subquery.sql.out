-- Automatically generated by SQLQueryTestSuite
-- !query
set spark.sql.optimizer.supportNestedCorrelatedSubqueries.enabled=true
-- !query analysis
SetCommand (spark.sql.optimizer.supportNestedCorrelatedSubqueries.enabled,Some(true))


-- !query
set spark.sql.optimizer.supportNestedCorrelatedSubqueriesForScalarSubqueries.enabled=true
-- !query analysis
SetCommand (spark.sql.optimizer.supportNestedCorrelatedSubqueriesForScalarSubqueries.enabled,Some(true))


-- !query
set spark.sql.optimizer.supportNestedCorrelatedSubqueriesForINSubqueries.enabled=true
-- !query analysis
SetCommand (spark.sql.optimizer.supportNestedCorrelatedSubqueriesForINSubqueries.enabled,Some(true))


-- !query
set spark.sql.optimizer.supportNestedCorrelatedSubqueriesForEXISTSSubqueries.enabled=true
-- !query analysis
SetCommand (spark.sql.optimizer.supportNestedCorrelatedSubqueriesForEXISTSSubqueries.enabled,Some(true))


-- !query
DROP TABLE IF EXISTS t
-- !query analysis
DropTable true, false
+- ResolvedIdentifier V2SessionCatalog(spark_catalog), default.t


-- !query
CREATE TABLE t(ps_supplycost INT, n_name INT)
-- !query analysis
CreateDataSourceTableCommand `spark_catalog`.`default`.`t`, false


-- !query
SELECT NULL
FROM
    t AS ref_2,
    LATERAL (SELECT (SELECT NULL
         FROM (SELECT * FROM t AS ref_5,
              LATERAL (SELECT ref_5.ps_supplycost AS c0,
                      ref_2.n_name AS c1) AS alias1) AS alias2) AS alias3) AS alias4
-- !query analysis
org.apache.spark.sql.catalyst.ExtendedAnalysisException
{
  "errorClass" : "UNRESOLVED_COLUMN.WITHOUT_SUGGESTION",
  "sqlState" : "42703",
  "messageParameters" : {
    "objectName" : "`ref_2`.`n_name`"
  },
  "queryContext" : [ {
    "objectType" : "",
    "objectName" : "",
    "startIndex" : 187,
    "stopIndex" : 198,
    "fragment" : "ref_2.n_name"
  } ]
}


-- !query
SELECT *
FROM
    t AS ref_2,
    LATERAL (SELECT (SELECT NULL
         FROM (SELECT * FROM t AS ref_5,
              LATERAL (SELECT ref_5.ps_supplycost AS c0,
                      ref_2.n_name AS c1) AS alias1) AS alias2) AS alias3) AS alias4
-- !query analysis
org.apache.spark.sql.catalyst.ExtendedAnalysisException
{
  "errorClass" : "UNRESOLVED_COLUMN.WITHOUT_SUGGESTION",
  "sqlState" : "42703",
  "messageParameters" : {
    "objectName" : "`ref_2`.`n_name`"
  },
  "queryContext" : [ {
    "objectType" : "",
    "objectName" : "",
    "startIndex" : 184,
    "stopIndex" : 195,
    "fragment" : "ref_2.n_name"
  } ]
}
